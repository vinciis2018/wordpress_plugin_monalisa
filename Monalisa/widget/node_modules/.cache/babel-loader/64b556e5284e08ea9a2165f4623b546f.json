{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Asus/Documents/kishan/brads-boilerplate-wordpress-main/brads-boilerplate-theme/httplopsidedtripflywheelsitescom/app/public/wp-content/plugins/react-wordpress/widget/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Asus/Documents/kishan/brads-boilerplate-wordpress-main/brads-boilerplate-theme/httplopsidedtripflywheelsitescom/app/public/wp-content/plugins/react-wordpress/widget/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Asus\\\\Documents\\\\kishan\\\\brads-boilerplate-wordpress-main\\\\brads-boilerplate-theme\\\\httplopsidedtripflywheelsitescom\\\\app\\\\public\\\\wp-content\\\\plugins\\\\react-wordpress\\\\widget\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React from'react';import'../../styles.css';import{jsx as _jsx}from\"react/jsx-runtime\";export var Monalisa=function Monalisa(_ref){var screen=_ref.screen;// const screenId = screen;\nvar screenId=\"61e1532b4cdb8cfa375286da\";// const screenId = \"61e10b9fe679b4afaf09b3a9\";\nvar _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),index=_React$useState2[0],setIndex=_React$useState2[1];var delay=5000;var timeoutRef=React.useRef(null);var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),videos=_React$useState4[0],setVideos=_React$useState4[1];function resetTimeout(){if(timeoutRef.current){clearTimeout(timeoutRef.current);}}React.useEffect(function(){var fetch=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return window.fetch(\"https://vblinds.herokuapp.com/api/screens/\".concat(screenId,\"/screenVideos\"));case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;setVideos(data);console.log(data);resetTimeout();timeoutRef.current=setTimeout(function(){setIndex(function(prevIndex){return prevIndex===(videos.length-1||videos.length)?0:prevIndex+1;});},delay);_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,13]]);}));return function fetch(){return _ref2.apply(this,arguments);};}();fetch();},[index]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"monalisa_slideshow\",children:/*#__PURE__*/_jsx(\"div\",{className:\"monalisa_slideshowSlider\",style:{transform:\"translate3d(\".concat(-index*100,\"%, 0, 0)\")},children:videos.map(function(video,index){return/*#__PURE__*/_jsx(\"a\",{href:\"https://vblinds.herokuapp.com/video/\".concat(video._id),target:\"_blank\",rel:\"noopener noreferrer\",children:/*#__PURE__*/_jsx(\"img\",{className:\"monalisa_slide\",src:video.thumbnail,alt:video.name},index)},video._id);})})})});};","map":{"version":3,"sources":["C:/Users/Asus/Documents/kishan/brads-boilerplate-wordpress-main/brads-boilerplate-theme/httplopsidedtripflywheelsitescom/app/public/wp-content/plugins/react-wordpress/widget/src/components/Monalisa/Monalisa.jsx"],"names":["React","Monalisa","screen","screenId","useState","index","setIndex","delay","timeoutRef","useRef","videos","setVideos","resetTimeout","current","clearTimeout","useEffect","fetch","window","response","json","data","console","log","setTimeout","prevIndex","length","error","transform","map","video","_id","thumbnail","name"],"mappings":"8xBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,kBAAP,C,2CAIA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAc,IAAZC,CAAAA,MAAY,MAAZA,MAAY,CACpC;AACA,GAAMC,CAAAA,QAAQ,CAAG,0BAAjB,CACA;AACA,oBAA0BH,KAAK,CAACI,QAAN,CAAe,CAAf,CAA1B,oDAAOC,KAAP,qBAAcC,QAAd,qBACA,GAAMC,CAAAA,KAAK,CAAG,IAAd,CACA,GAAMC,CAAAA,UAAU,CAAGR,KAAK,CAACS,MAAN,CAAa,IAAb,CAAnB,CACA,qBAA4BT,KAAK,CAACI,QAAN,CAAe,EAAf,CAA5B,qDAAOM,MAAP,qBAAeC,SAAf,qBAEA,QAASC,CAAAA,YAAT,EAAwB,CACtB,GAAGJ,UAAU,CAACK,OAAd,CAAuB,CACrBC,YAAY,CAACN,UAAU,CAACK,OAAZ,CAAZ,CACD,CACF,CAEDb,KAAK,CAACe,SAAN,CAAgB,UAAM,CACpB,GAAMC,CAAAA,KAAK,2FAAG,2LAEcC,CAAAA,MAAM,CAACD,KAAP,qDAA0Db,QAA1D,kBAFd,QAEJe,QAFI,qCAGSA,CAAAA,QAAQ,CAACC,IAAT,EAHT,QAGJC,IAHI,eAIVT,SAAS,CAACS,IAAD,CAAT,CACAC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACAR,YAAY,GACZJ,UAAU,CAACK,OAAX,CAAqBU,UAAU,CAAC,UAAM,CACpCjB,QAAQ,CAAC,SAAAkB,SAAS,QAAKA,CAAAA,SAAS,IAAMd,MAAM,CAACe,MAAP,CAAgB,CAAhB,EAAqBf,MAAM,CAACe,MAAlC,CAAT,CAAqD,CAArD,CAAyDD,SAAS,CAAG,CAA1E,EAAV,CAAR,CACD,CAF8B,CAE5BjB,KAF4B,CAA/B,CAPU,iFAWVc,OAAO,CAACK,KAAR,cAXU,qEAAH,kBAALV,CAAAA,KAAK,2CAAX,CAcAA,KAAK,GACN,CAhBD,CAgBG,CAACX,KAAD,CAhBH,EAkBA,mBACE,kCACE,YAAK,SAAS,CAAC,oBAAf,uBACE,YACE,SAAS,CAAC,0BADZ,CAEE,KAAK,CAAE,CAACsB,SAAS,uBAAiB,CAACtB,KAAD,CAAS,GAA1B,YAAV,CAFT,UAIKK,MAAM,CAACkB,GAAP,CAAW,SAACC,KAAD,CAAQxB,KAAR,qBACV,UAAmB,IAAI,+CAAyCwB,KAAK,CAACC,GAA/C,CAAvB,CAA6E,MAAM,CAAC,QAApF,CAA6F,GAAG,CAAC,qBAAjG,uBACE,YACA,SAAS,CAAC,gBADV,CAGA,GAAG,CAAED,KAAK,CAACE,SAHX,CAIA,GAAG,CAAEF,KAAK,CAACG,IAJX,EAEK3B,KAFL,CADF,EAAQwB,KAAK,CAACC,GAAd,CADU,EAAX,CAJL,EADF,EADF,EADF,CAsBD,CAvDM","sourcesContent":["import React from 'react';\r\nimport '../../styles.css';\r\n\r\n\r\n\r\nexport const Monalisa = ({screen}) => {\r\n  // const screenId = screen;\r\n  const screenId = \"61e1532b4cdb8cfa375286da\";\r\n  // const screenId = \"61e10b9fe679b4afaf09b3a9\";\r\n  const [index, setIndex] = React.useState(0);\r\n  const delay = 5000;\r\n  const timeoutRef = React.useRef(null);\r\n  const [videos, setVideos] = React.useState([]);\r\n\r\n  function resetTimeout() {\r\n    if(timeoutRef.current) {\r\n      clearTimeout(timeoutRef.current);\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    const fetch = async () => {\r\n      try {\r\n        const response  = await window.fetch(`https://vblinds.herokuapp.com/api/screens/${screenId}/screenVideos`)\r\n        const data = await response.json();\r\n        setVideos(data)\r\n        console.log(data)\r\n        resetTimeout()\r\n        timeoutRef.current = setTimeout(() => {\r\n          setIndex(prevIndex => (prevIndex === (videos.length - 1 || videos.length) ? 0 : prevIndex + 1))\r\n        }, delay)\r\n      } catch (r) {\r\n        console.error(r)\r\n      }\r\n    }\r\n    fetch()\r\n  }, [index])\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"monalisa_slideshow\">\r\n        <div \r\n          className=\"monalisa_slideshowSlider\" \r\n          style={{transform: `translate3d(${-index * 100}%, 0, 0)`}}\r\n          >\r\n            {videos.map((video, index) => (\r\n              <a key={video._id} href={`https://vblinds.herokuapp.com/video/${video._id}`} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                <img \r\n                className=\"monalisa_slide\"\r\n                key={index}\r\n                src={video.thumbnail}\r\n                alt={video.name}\r\n                >\r\n                </img>\r\n              </a>\r\n            ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}